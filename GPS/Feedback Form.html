<html>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="feedback_form.css">
    <body>

    <div class="form_section">
      <img style="width: 300px;" src ="WhatsApp Image 2024-07-14 at 10.03.18_edde10e9.jpg"><br><br> <br>
    <br><h1 style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; color: blue;">Customer Feedback form</Form></h1>
    <hr><br>
    <form action="store.php" method="post" id="myform" enctype="multipart/form-data">
        <label>Customer Name:</label><br><br>
        <input type="text" name="cname" id="cname" placeholder="Organisation Name"><br><br>
        <label>Contract NO:</label><br><br>
        <input type="text" name="con_number" id="con_number" placeholder="Contract Number"><br><br>
        <label>Project Title:</label><br><br>
        <input type="text" name="ptitle" id="ptitle" placeholder="Project Name"><br><br>
        <label>GPS Project NO:</label><br><br>
        <input type="text" name="pno" id="pno" placeholder="Project Number"><br><br>
        <h2>Please click at appropriate number against each performance indicator.</h2>
        <table style="margin-top: -150px; margin-bottom: 20px;">
            <tr>
                <th>Sections</th>
                <th colspan=3 id="target1">Satisfactory</th>
                <th colspan=4 id="target2">Good</th>
                <th colspan=3 id="target3">Excellent</th>
            </tr>
            <tr>
                <td>
                <label>Resouce Management</label></td>
                <td><input type="button" name="b1" value="1" style="width: 50px; color: black;" class="button" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="2" class="button" style="width: 50px; color: black;" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td>
                <td><input type="button" name="b1" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td><td><input type="button" name="b1" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,1)" data-row="1"></td><br>
            </tr>
            <tr>
                <td>
                <label>Cometence of staff and Workforce</label></td>
                <td><input type="button" name="b2" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td>
                <td><input type="button" name="b2" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><td><input type="button" name="b2" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,2)" data-row="2"></td><br>
            </tr>
            <tr>
                <td>
                <label>Project Schedule Management</label></td>
                <td><input type="button" name="b3" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td>
                <td><input type="button" name="b3" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><td><input type="button" name="b3" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,3)" data-row="3"></td><br>
            </tr>
            <tr>  
                <td>
                <label>Quality of the dicuments Produced</label></td>
                <td><input type="button" name="b4" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td>
                <td><input type="button" name="b4" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><td><input type="button" name="b4" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,4)" data-row="4"></td><br>
            </tr>
            <tr>    
                <td>
                <label>Quality Management in Project Execution</label></td>
                <td><input type="button" name="b5" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td>
                <td><input type="button" name="b5" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><td><input type="button" name="b5" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,5)" data-row="5"></td><br>
            </tr>
            <tr>    
                <td>
                <label>HSE Management</label></td>
                <td><input type="button" name="b6" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td>
                <td><input type="button" name="b6" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><td><input type="button" name="b6" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,6)" data-row="6"></td><br>
            </tr>
            <tr>
                <td>
                <label>Communication and Responsiveness</label></td>
                <td><input type="button" name="b7" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td>
                <td><input type="button" name="b7" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><td><input type="button" name="b7" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,7)" data-row="7"></td><br>
            </tr>   
            <tr> 
                <td>
                <label>Business Relationships</label></td>
                <td><input type="button" name="b8" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td>
                <td><input type="button" name="b8" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><td><input type="button" name="b8" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,8)" data-row="8"></td><br>
            </tr>    
            <tr>
                <td>
                <label>Response to Variations</label></td>
                <td><input type="button" name="b9" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td>
                <td><input type="button" name="b9" value="7" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="8" class="button"  style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><td><input type="button" name="b9" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,9)" data-row="9"></td><br>
            </tr>
            <tr>
                <td><label>Customer Focus</label></td>
                <td><input type="button" name="b10" value="1" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="2" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="3" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="4" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="5" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="6" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td>
                <td><input type="button" name="b10" value="7" style="width: 50px; color:black" class="button" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="8" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="9" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><td><input type="button" name="b10" value="10" class="button" style="width: 50px; color:black" onclick="changeColor(this,10)" data-row="10"></td><br>
            </tr>
            </table>
        <div class="textbox-container">
            <input type="text" id="text1" name="text1" class="box" required>
            <input type="text" id="text2" name="text2" class="box" required>
            <input type="text" id="text3" name="text3" class="box" required>
            <input type="text" id="text4" name="text4" class="box" required>
            <input type="text" id="text5" name="text5" class="box" required>
            <input type="text" id="text6" name="text6" class="box" required>
            <input type="text" id="text7" name="text7" class="box" required>
            <input type="text" id="text8" name="text8" class="box" required>
            <input type="text" id="text9" name="text9" class="box" required>
            <input type="text" id="text10" name="text10" class="box" required>
            <input type="text" id="sname" name="sname" class="box" required>
            <input type="text" id="smail" name="smail" class="box" required>
            <input type="text" name="avg">
        </div>
        <label>Valuable Comments/Suggestions</label><br><br>
        <textarea name="comments" id="comments" placeholder="Enter your remarks" required></textarea><br><br>
        <label>Name</label><br><br>
        <input type="text" name="emp_name" id="emp_name" placeholder="Your Name"><br><br>
        <label>Designation</label><br><br>
        <input type="text" name="desg" id="desg" placeholder="Designation"><br><br>
        <label>Signature</label><br><br>
        <input type="file" id="myfile" name="myfile" style="color:black"><br>
        <p style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">Upload only in the image format</p>
        <button type="submit" class="exe_button" onclick="check()" name="submit">Submit</button></div>
    </form>
  </body>

<script>
function changeColor(button,index) {
            const value = parseInt(button.value);
            const row = parseInt(button.getAttribute('data-row'));
            const buttonsInRow = document.querySelectorAll(`.button[data-row="${row}"]`);
            buttonsInRow.forEach(btn => {
                btn.classList.remove('selected'); 
                btn.style.backgroundColor = ''; 
            });
            if (value >= 1 && value <= 3) {
                button.style.backgroundColor = 'red';
            } else if (value >= 4 && value <= 7) {
                button.style.backgroundColor = 'yellow';
            } else if (value >= 8 && value <= 11) {
                button.style.backgroundColor = 'green';
            }
            button.classList.add('selected');
            document.getElementById('text'+index).value=button.value;
        }
        const buttons = document.querySelectorAll('.button');
        buttons.forEach(button => {
            button.addEventListener('mouseout', () => {
                if (!button.classList.contains('selected')) {
                    button.style.backgroundColor = ''; 
                }
            });
});
const urlParams = new URLSearchParams(window.location.search);
const name = urlParams.get('name');
const con_no = urlParams.get('con_no');
const ptitle = urlParams.get('ptitle');
const pno = urlParams.get('pno');
const pername = urlParams.get('pername');
const desg = urlParams.get('desg');
const sname = urlParams.get('sname');
const smail = urlParams.get('smail');
const status = urlParams.get('status');
if (name && con_no && ptitle && pno) {
    document.getElementById('cname').value = decodeURIComponent(name);
    document.getElementById('con_number').value = decodeURIComponent(con_no);
    document.getElementById('ptitle').value = decodeURIComponent(ptitle);
    document.getElementById('pno').value = decodeURIComponent(pno);
    document.getElementById('emp_name').value = decodeURIComponent(pername);
    document.getElementById('desg').value = decodeURIComponent(desg);
    document.getElementById('sname').value = decodeURIComponent(sname);
    document.getElementById('smail').value = decodeURIComponent(smail);
    var text1 = document.getElementById("cname");
    if (text1.value !== "") {
    text1.readOnly = true;
    }  
    var text2 = document.getElementById("con_number");
    if (text2.value !== "") {
    text2.readOnly = true;
    } 
    var text3 = document.getElementById("ptitle");
    if (text1.value !== "") {
    text3.readOnly = true;
    } 
    var text4 = document.getElementById("pno");
    if (text1.value !== "") {
    text4.readOnly = true;
    } 
    var text5 = document.getElementById("emp_name");
    if (text5.value !== "") {
    text5.readOnly = true;
    } 
    var text6 = document.getElementById("desg");
    if (text6.value !== "") {
    text6.readOnly = true;
    } 
    
}
if(status){
    alert('Form Submitted Successfully');
}
function check(){
    var textboxes = document.getElementsByClassName('box');
  var allFilled = true;

  for (var i = 0; i < textboxes.length-1; i++) {
    if (textboxes[i].value === '') {
      allFilled = false;
      break;
    }
  }
  if (!allFilled) {
    alert('Please fill all the sections....');
  }
}
    </script>
</html>